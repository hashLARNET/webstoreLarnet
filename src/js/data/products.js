// Base de datos de productos
const PRODUCTS_DATA = [
    // Cer√°micas
    {
        id: 1,
        name: "Cer√°mica Porcelanato M√°rmol Carrara 60x60",
        category: "ceramicas",
        price: 12990,
        description: "Cer√°mica porcelanato esmaltado con dise√±o m√°rmol Carrara. Ideal para pisos y muros interiores.",
        image: "üè∫",
        stock: {
            metropolitana: { quantity: 150, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 80, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 45, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 25, warehouse: "Bodega Antofagasta" }
        }
    },
    {
        id: 2,
        name: "Cer√°mica Gres R√∫stico 30x30",
        category: "ceramicas",
        price: 8990,
        description: "Cer√°mica gres antideslizante perfecta para exteriores y √°reas h√∫medas.",
        image: "üß±",
        stock: {
            metropolitana: { quantity: 200, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 120, warehouse: "Bodega Vi√±a del Mar" },
            maule: { quantity: 60, warehouse: "Bodega Talca" },
            biobio: { quantity: 90, warehouse: "Bodega Concepci√≥n" }
        }
    },
    {
        id: 3,
        name: "Cer√°mica Subway Blanco 7.5x15",
        category: "ceramicas",
        price: 4990,
        description: "Cl√°sica cer√°mica tipo subway para revestimientos de cocinas y ba√±os.",
        image: "‚¨ú",
        stock: {
            metropolitana: { quantity: 300, warehouse: "Bodega Santiago Norte" },
            valparaiso: { quantity: 180, warehouse: "Bodega Valpara√≠so" },
            ohiggins: { quantity: 70, warehouse: "Bodega Rancagua" }
        }
    },

    // Cemento
    {
        id: 4,
        name: "Cemento Polpaico Especial 25kg",
        category: "cemento",
        price: 6490,
        description: "Cemento de alta resistencia para construcci√≥n general y obras estructurales.",
        image: "üèóÔ∏è",
        stock: {
            metropolitana: { quantity: 500, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 300, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 250, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 180, warehouse: "Bodega Antofagasta" },
            maule: { quantity: 200, warehouse: "Bodega Talca" }
        }
    },
    {
        id: 5,
        name: "Cemento Mel√≥n Extra 25kg",
        category: "cemento",
        price: 6290,
        description: "Cemento portland puzol√°nico ideal para todo tipo de construcciones.",
        image: "üè≠",
        stock: {
            metropolitana: { quantity: 400, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 280, warehouse: "Bodega Vi√±a del Mar" },
            ohiggins: { quantity: 150, warehouse: "Bodega Rancagua" },
            maule: { quantity: 180, warehouse: "Bodega Talca" }
        }
    },
    {
        id: 6,
        name: "Cemento Blanco Polpaico 25kg",
        category: "cemento",
        price: 8990,
        description: "Cemento blanco especial para trabajos decorativos y acabados finos.",
        image: "‚ö™",
        stock: {
            metropolitana: { quantity: 80, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 45, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 30, warehouse: "Bodega Concepci√≥n" }
        }
    },

    // Pinturas
    {
        id: 7,
        name: "Pintura L√°tex Interior Sherwin Williams 1GL",
        category: "pinturas",
        price: 18990,
        description: "Pintura l√°tex lavable de alta cobertura para interiores. Disponible en m√∫ltiples colores.",
        image: "üé®",
        stock: {
            metropolitana: { quantity: 120, warehouse: "Bodega Santiago Norte" },
            valparaiso: { quantity: 80, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 60, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 35, warehouse: "Bodega Antofagasta" }
        }
    },
    {
        id: 8,
        name: "Esmalte Sint√©tico Tricolor 1/4GL",
        category: "pinturas",
        price: 12490,
        description: "Esmalte sint√©tico brillante para maderas y metales, resistente a la intemperie.",
        image: "‚ú®",
        stock: {
            metropolitana: { quantity: 90, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 65, warehouse: "Bodega Vi√±a del Mar" },
            maule: { quantity: 40, warehouse: "Bodega Talca" },
            biobio: { quantity: 50, warehouse: "Bodega Concepci√≥n" }
        }
    },
    {
        id: 9,
        name: "Primer Anticorrosivo Rojo 1GL",
        category: "pinturas",
        price: 15990,
        description: "Primer anticorrosivo para protecci√≥n de estructuras met√°licas.",
        image: "üî¥",
        stock: {
            metropolitana: { quantity: 70, warehouse: "Bodega Santiago Centro" },
            antofagasta: { quantity: 85, warehouse: "Bodega Antofagasta" },
            valparaiso: { quantity: 45, warehouse: "Bodega Valpara√≠so" }
        }
    },

    // Herramientas
    {
        id: 10,
        name: "Taladro Percutor Bosch 650W",
        category: "herramientas",
        price: 89990,
        description: "Taladro percutor profesional con mandril de 13mm y malet√≠n incluido.",
        image: "üîß",
        stock: {
            metropolitana: { quantity: 25, warehouse: "Bodega Santiago Norte" },
            valparaiso: { quantity: 15, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 12, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 8, warehouse: "Bodega Antofagasta" }
        }
    },
    {
        id: 11,
        name: "Amoladora Angular Makita 4.5\"",
        category: "herramientas",
        price: 65990,
        description: "Amoladora angular de 4.5 pulgadas, 840W de potencia, ideal para corte y desbaste.",
        image: "‚öôÔ∏è",
        stock: {
            metropolitana: { quantity: 30, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 18, warehouse: "Bodega Vi√±a del Mar" },
            biobio: { quantity: 20, warehouse: "Bodega Concepci√≥n" },
            maule: { quantity: 10, warehouse: "Bodega Talca" }
        }
    },
    {
        id: 12,
        name: "Nivel L√°ser Autonivelante Stanley",
        category: "herramientas",
        price: 125990,
        description: "Nivel l√°ser autonivelante con alcance de 15 metros y precisi√≥n ¬±3mm.",
        image: "üìè",
        stock: {
            metropolitana: { quantity: 15, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 8, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 6, warehouse: "Bodega Concepci√≥n" }
        }
    },

    // Sanitarios
    {
        id: 13,
        name: "Inodoro One Piece Twyford Blanco",
        category: "sanitarios",
        price: 189990,
        description: "Inodoro de una pieza con descarga dual, incluye asiento y tapa con bisagras met√°licas.",
        image: "üöΩ",
        stock: {
            metropolitana: { quantity: 40, warehouse: "Bodega Santiago Norte" },
            valparaiso: { quantity: 25, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 20, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 12, warehouse: "Bodega Antofagasta" }
        }
    },
    {
        id: 14,
        name: "Lavamanos Pedestal Fanaloza",
        category: "sanitarios",
        price: 79990,
        description: "Lavamanos con pedestal en loza blanca, incluye grifer√≠a monocomando.",
        image: "üöø",
        stock: {
            metropolitana: { quantity: 35, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 22, warehouse: "Bodega Vi√±a del Mar" },
            maule: { quantity: 15, warehouse: "Bodega Talca" },
            biobio: { quantity: 18, warehouse: "Bodega Concepci√≥n" }
        }
    },
    {
        id: 15,
        name: "Ducha Telef√≥nica Cromada FV",
        category: "sanitarios",
        price: 24990,
        description: "Ducha telef√≥nica cromada con manguera flexible de 1.5m y soporte ajustable.",
        image: "üöø",
        stock: {
            metropolitana: { quantity: 80, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 50, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 35, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 20, warehouse: "Bodega Antofagasta" }
        }
    },

    // Electricidad
    {
        id: 16,
        name: "Cable El√©ctrico 2.5mm THW Procobre",
        category: "electricidad",
        price: 890,
        description: "Cable el√©ctrico THW 2.5mm por metro lineal, certificado SEC.",
        image: "‚ö°",
        stock: {
            metropolitana: { quantity: 1000, warehouse: "Bodega Santiago Norte" },
            valparaiso: { quantity: 600, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 500, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 300, warehouse: "Bodega Antofagasta" },
            maule: { quantity: 400, warehouse: "Bodega Talca" }
        }
    },
    {
        id: 17,
        name: "Interruptor Simple Bticino Magic",
        category: "electricidad",
        price: 3990,
        description: "Interruptor simple 10A con placa incluida, color blanco.",
        image: "üîå",
        stock: {
            metropolitana: { quantity: 200, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 120, warehouse: "Bodega Vi√±a del Mar" },
            biobio: { quantity: 100, warehouse: "Bodega Concepci√≥n" },
            maule: { quantity: 80, warehouse: "Bodega Talca" }
        }
    },
    {
        id: 18,
        name: "Tablero El√©ctrico 12 Polos Schneider",
        category: "electricidad",
        price: 45990,
        description: "Tablero el√©ctrico met√°lico para 12 polos con puerta y cerradura.",
        image: "üì¶",
        stock: {
            metropolitana: { quantity: 30, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 18, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 15, warehouse: "Bodega Concepci√≥n" },
            antofagasta: { quantity: 10, warehouse: "Bodega Antofagasta" }
        }
    },

    // Productos adicionales para completar el cat√°logo
    {
        id: 19,
        name: "Adhesivo Cer√°mico Topex 25kg",
        category: "ceramicas",
        price: 8990,
        description: "Adhesivo cementoso para instalaci√≥n de cer√°micas en pisos y muros.",
        image: "üß™",
        stock: {
            metropolitana: { quantity: 180, warehouse: "Bodega Santiago Centro" },
            valparaiso: { quantity: 100, warehouse: "Bodega Valpara√≠so" },
            biobio: { quantity: 80, warehouse: "Bodega Concepci√≥n" }
        }
    },
    {
        id: 20,
        name: "Frag√ºe Topex Gris 5kg",
        category: "ceramicas",
        price: 4990,
        description: "Frag√ºe cementoso para juntas de cer√°micas, resistente al agua.",
        image: "üîò",
        stock: {
            metropolitana: { quantity: 150, warehouse: "Bodega Santiago Sur" },
            valparaiso: { quantity: 90, warehouse: "Bodega Vi√±a del Mar" },
            maule: { quantity: 60, warehouse: "Bodega Talca" }
        }
    }
];

// Funci√≥n para obtener todos los productos
function getAllProducts() {
    return PRODUCTS_DATA;
}

// Funci√≥n para obtener productos por categor√≠a
function getProductsByCategory(category) {
    if (category === 'all') return PRODUCTS_DATA;
    return PRODUCTS_DATA.filter(product => product.category === category);
}

// Funci√≥n para buscar productos
function searchProducts(query) {
    const searchTerm = query.toLowerCase();
    return PRODUCTS_DATA.filter(product => 
        product.name.toLowerCase().includes(searchTerm) ||
        product.description.toLowerCase().includes(searchTerm) ||
        product.category.toLowerCase().includes(searchTerm)
    );
}

// Funci√≥n para obtener producto por ID
function getProductById(id) {
    return PRODUCTS_DATA.find(product => product.id === parseInt(id));
}

// Funci√≥n para obtener stock por regi√≥n
function getProductStock(productId, region) {
    const product = getProductById(productId);
    if (!product || !product.stock[region]) return null;
    return product.stock[region];
}

// Funci√≥n para determinar el nivel de stock
function getStockLevel(quantity) {
    if (quantity > 100) return 'high';
    if (quantity > 20) return 'medium';
    return 'low';
}

// Hacer las funciones disponibles globalmente
window.ProductsData = {
    getAllProducts,
    getProductsByCategory,
    searchProducts,
    getProductById,
    getProductStock,
    getStockLevel
};